# 类和对象

## 类及其实例化

类的定义可以分为两部分：说明部分和实现部分。说明部分说明类中包含的数据成员和成员函数，实现部分是对成员函数的定义。

类不仅可以声明对象，还可以声明指向对象的指针或引用。对象和引用使用 `.` 运算符访问对象的成员，而指针使用 `->` 运算符访问对象的成员。

```c++
Point p1, p2;
Point *p = &p1;
Point &p3 = p2;

p1.Setab(5, 10);
p -> Display();
p3.Setab(1, 2);
```

运算符 `new` 可用于建立生存期可控的对象，`new` 返回这个对象的指针。使用 `new` 创建动态对象，`new` 首先为其分配内存空间，然后自动调用构造函数来初始化这块内存，然后返回动态对象的地址。动态创建的对象在程序中使用完毕后，应使用 `delete` 将其内存空间释放。

```c++
void main() {
    Point *pt1 = new Point;
    Point *pt2 = new Point(2, 5);
    delete pt1;
    delete pt2;
}
```

## 析构函数

析构函数与构造函数的作用几乎正好相反，它用来完成对象被删除前的一些清理工作，也就是专门做扫尾工作的。一般情况下，析构函数在对象的生存期即将结束的时候由系统自动调用。它的调用完成之后，对象也就消失了，相应的内存空间也被释放。

运算符 `delete` 与析构函数一起工作。当使用运算符 `delete` 删除一个动态对象时，它首先为这个动态对象调用析构函数，然后再释放这个动态对象占用的内存，这和使用 `new` 建立动态对象的过程正好相反。

## this 指针

C++ 规定，当一个成员函数被调用时，系统自动向它传递一个隐含的参数，该参数是一个指向调用该函数的对象的指针，从而使成员函数知道该对哪个对象进行操作。在程序中，可以使用关键字 `this` 来引用该指针。`this` 指针是一个隐含的指针，每次成员函数存取数据成员时，会隐含使用 `this` 指针。 

## 类与对象的性质

一般 C++ 推荐使用引用传递参数，为了避免被调用函数修改实参对象的数据成员，可以使用 `const` 修饰符。

